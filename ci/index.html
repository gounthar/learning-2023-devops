<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta property="og:url" content="https://gounthar.github.io/learning-2024-devops/learning-2024-devops/ci/"><meta property="og:title" content="CI/CD"><meta property="og:description" content="Definition cicd CI/CD, or Continuous Integration/Continuous Deployment, is a software development practice that involves automating the integration of code changes, testing, and..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-04-04T14:32:01.000Z"><meta property="article:modified_time" content="2024-04-04T14:32:01.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"CI/CD","image":[""],"dateModified":"2024-04-04T14:32:01.000Z","author":[]}</script><link rel="icon" href="/learning-2024-devops/favicon.ico"><link rel="manifest" href="/learning-2024-devops/manifest.webmanifest"><meta name="theme-color" content="#027DFD"><title>CI/CD</title><meta name="description" content="Definition cicd CI/CD, or Continuous Integration/Continuous Deployment, is a software development practice that involves automating the integration of code changes, testing, and...">
    <link rel="preload" href="/learning-2024-devops/assets/style-52fb24f1.css" as="style"><link rel="stylesheet" href="/learning-2024-devops/assets/style-52fb24f1.css">
    <link rel="modulepreload" href="/learning-2024-devops/assets/app-05a7cf3f.js"><link rel="modulepreload" href="/learning-2024-devops/assets/framework-96b046e1.js"><link rel="modulepreload" href="/learning-2024-devops/assets/index.html-7ac57139.js"><link rel="modulepreload" href="/learning-2024-devops/assets/index.html-81d1952a.js"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-de5a47e1.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-678c00ba.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-cffa8059.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-778bc1d4.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-7512966d.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-4356601f.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-b6922835.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-b0e4931a.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-677b437d.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-f406db26.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/404.html-bb9e0ef3.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-dbbc701d.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-b1e6f17e.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-8a50808c.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-74cf36e6.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-84cfc626.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-2d505b61.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-aa1bf2a2.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-cd777cd8.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-56d70d49.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/index.html-16a79d02.js" as="script"><link rel="prefetch" href="/learning-2024-devops/assets/404.html-46166703.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/learning-2024-devops/" class=""><img class="logo" src="/learning-2024-devops/logo_worldline.png" alt><!--v-if--></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/learning-2024-devops/" class="sidebar-item sidebar-heading" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a><!----></li><li><a href="/learning-2024-devops/overview/" class="sidebar-item sidebar-heading" aria-label="Let&#39;s start"><!--[--><!--]--> Let&#39;s start <!--[--><!--]--></a><!----></li><li><a href="/learning-2024-devops/game/" class="sidebar-item sidebar-heading" aria-label="Role-playing game"><!--[--><!--]--> Role-playing game <!--[--><!--]--></a><!----></li><li><a href="/learning-2024-devops/shell/" class="sidebar-item sidebar-heading" aria-label="Shell for DevOps"><!--[--><!--]--> Shell for DevOps <!--[--><!--]--></a><!----></li><li><a href="/learning-2024-devops/virt/" class="sidebar-item sidebar-heading" aria-label="Virtualization"><!--[--><!--]--> Virtualization <!--[--><!--]--></a><!----></li><li><a href="/learning-2024-devops/container/" class="sidebar-item sidebar-heading" aria-label="Containerization"><!--[--><!--]--> Containerization <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-2024-devops/ci/" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="CI/CD"><!--[--><!--]--> CI/CD <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/learning-2024-devops/ci/#definition" class="router-link-active router-link-exact-active sidebar-item" aria-label="Definition"><!--[--><!--]--> Definition <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-2024-devops/ci/#market-overview" class="router-link-active router-link-exact-active sidebar-item" aria-label="Market overview"><!--[--><!--]--> Market overview <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-2024-devops/ci/#ci-cd-platform-gitlab" class="router-link-active router-link-exact-active sidebar-item" aria-label="CI/CD Platform (GitLab)"><!--[--><!--]--> CI/CD Platform (GitLab) <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/learning-2024-devops/ci/#ci-cd-features" class="router-link-active router-link-exact-active sidebar-item" aria-label="CI/CD features"><!--[--><!--]--> CI/CD features <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-2024-devops/ci/#ci-cd-for-developers" class="router-link-active router-link-exact-active sidebar-item" aria-label="CI/CD for Developers"><!--[--><!--]--> CI/CD for Developers <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/learning-2024-devops/ci/#exercises" class="router-link-active router-link-exact-active sidebar-item" aria-label="Exercises"><!--[--><!--]--> Exercises <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/learning-2024-devops/ci/#ðŸ§ª-exercice-1-build-your-ci-cd-server-with-docker" class="router-link-active router-link-exact-active sidebar-item" aria-label="ðŸ§ª Exercice 1 : Build your CI/CD server with docker"><!--[--><!--]--> ðŸ§ª Exercice 1 : Build your CI/CD server with docker <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-2024-devops/ci/#ðŸ§ª-exercice-2-register-your-laptop-pc-as-a-docker-runner-to-build-your-pipelines-onpremise" class="router-link-active router-link-exact-active sidebar-item" aria-label="ðŸ§ª Exercice 2 : Register your laptop PC as a docker runner to build your pipelines onPremise"><!--[--><!--]--> ðŸ§ª Exercice 2 : Register your laptop PC as a docker runner to build your pipelines onPremise <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-2024-devops/ci/#ðŸ§ª-exercise-3-a-full-pipeline-for-a-project-of-your-choice-on-a-saas-ci-cd-platform" class="router-link-active router-link-exact-active sidebar-item" aria-label="ðŸ§ª Exercise 3 - A full pipeline for a project of your choice on a SaaS CI/CD platform"><!--[--><!--]--> ðŸ§ª Exercise 3 - A full pipeline for a project of your choice on a SaaS CI/CD platform <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/learning-2024-devops/ci/#ðŸ“–-further-reading" class="router-link-active router-link-exact-active sidebar-item" aria-label="ðŸ“– Further reading"><!--[--><!--]--> ðŸ“– Further reading <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/learning-2024-devops/orchestration/" class="sidebar-item sidebar-heading" aria-label="Orchestration"><!--[--><!--]--> Orchestration <!--[--><!--]--></a><!----></li><li><a href="/learning-2024-devops/prov/" class="sidebar-item sidebar-heading" aria-label="Provisionning"><!--[--><!--]--> Provisionning <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="ci-cd" tabindex="-1"><a class="header-anchor" href="#ci-cd" aria-hidden="true">#</a> CI/CD</h1><h2 id="definition" tabindex="-1"><a class="header-anchor" href="#definition" aria-hidden="true">#</a> Definition</h2><p><img src="/learning-2024-devops/assets/cicd-b5f3febe.png" alt="cicd"></p><p>CI/CD, or Continuous Integration/Continuous Deployment, is a software development practice that involves automating the integration of code changes, testing, and deployment processes. It aims to streamline and automate the delivery pipeline, ensuring rapid and reliable software delivery.</p><p><strong>&quot;Continuous integration is a software development practice where members of a team integrate their work frequently... verified by an automated build (including tests) to detect integration errors&quot;</strong>, <em>Martin fowler</em></p><p>Integration in the context of CI/CD involves aligning and merging development efforts from various stages (such as development, staging, and production) to ensure that code changes seamlessly transition through these environments, maintaining consistency and reliability.</p><ul><li><strong>Development Environment</strong>: Developers work on their individual branches, integrating code changes regularly into a shared development branch. Continuous integration ensures that code changes from multiple developers align and work together in this environment.</li><li><strong>Staging Environment</strong>: Merged code changes from the development branch are further integrated into a staging branch or environment. Integration here involves validating code against a staging environment that mirrors the production environment closely.</li><li><strong>Production Environment</strong>: Once validated in the staging environment, integrated code changes are deployed to the production environment. Integration in the production environment ensures a smooth transition of tested and validated code to the live system.</li></ul><h2 id="market-overview" tabindex="-1"><a class="header-anchor" href="#market-overview" aria-hidden="true">#</a> Market overview</h2><table><thead><tr><th>Service</th><th>SCM/SVC (Version Control)</th><th>CI</th><th>CD</th><th>Issue Tracking</th><th>Issue Boards</th></tr></thead><tbody><tr><td><strong>Git</strong></td><td>âœ“</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>Mercurial (Hg)</strong></td><td>âœ“</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>Bitbucket</strong></td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td></tr><tr><td><strong>GitHub</strong></td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td></tr><tr><td><strong>GitLab</strong></td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td></tr><tr><td><strong>Gitea</strong></td><td>âœ“</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>Travis CI</strong></td><td></td><td>âœ“</td><td></td><td></td><td></td></tr><tr><td><strong>Jenkins</strong></td><td></td><td>âœ“</td><td>âœ“</td><td></td><td></td></tr><tr><td><strong>CircleCI</strong></td><td></td><td>âœ“</td><td></td><td></td><td></td></tr><tr><td><strong>Azure DevOps</strong></td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td></td></tr><tr><td><strong>GitHub Actions</strong></td><td>âœ“</td><td>âœ“</td><td></td><td>âœ“</td><td></td></tr><tr><td><strong>Azure DevOps Pipelines</strong></td><td></td><td>âœ“</td><td>âœ“</td><td></td><td></td></tr><tr><td><strong>GitLab CI/CD</strong></td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td></td></tr><tr><td><strong>AWS CodePipeline</strong></td><td></td><td>âœ“</td><td>âœ“</td><td></td><td></td></tr><tr><td><strong>Google Cloud Build</strong></td><td></td><td>âœ“</td><td>âœ“</td><td></td><td></td></tr></tbody></table><h2 id="ci-cd-platform-gitlab" tabindex="-1"><a class="header-anchor" href="#ci-cd-platform-gitlab" aria-hidden="true">#</a> CI/CD Platform (GitLab)</h2><p>GitLab is a comprehensive DevOps platform that provides integrated CI/CD pipelines alongside version control, issue tracking, and more. It offers robust capabilities for automating software development processes, including building, testing, and deploying applications in a collaborative environment.</p><p>Its functionalities include:</p><ul><li><strong>Version Control:</strong> Robust Git repository management with merge requests, code review, and branching capabilities.</li><li><strong>CI/CD Pipelines:</strong> Automated build, test, and deployment pipelines for efficient software delivery.</li><li><strong>Issue Tracking:</strong> Integrated issue tracking system for project management and collaboration.</li><li><strong>Collaboration Tools:</strong> Wikis, snippets, code analytics, and merge request approvals for streamlined teamwork.</li><li><strong>Project Management:</strong> Extensive project planning, milestones, boards, and time tracking features.</li><li><strong>Security Scanning:</strong> Built-in security scanning tools for vulnerability management.</li><li><strong>Container Registry:</strong> Integrated container registry for storing Docker images.</li><li><strong>Kubernetes Integration:</strong> Seamless integration with Kubernetes for container orchestration.</li></ul><h3 id="ci-cd-features" tabindex="-1"><a class="header-anchor" href="#ci-cd-features" aria-hidden="true">#</a> CI/CD features</h3><h4 id="jobs-and-stages" tabindex="-1"><a class="header-anchor" href="#jobs-and-stages" aria-hidden="true">#</a> Jobs and stages</h4><p><img src="/learning-2024-devops/assets/pipeline-b800f057.png" alt="pipeline"></p><p><strong>Jobs:</strong> Individual tasks defined in the <code>gitlab-ci.yml</code> file. They represent actions such as build, test, deploy, etc. <strong>Stages:</strong> Divisions in the pipeline where jobs are grouped. Typical stages include build, test, deploy, allowing sequential execution.</p><h4 id="gitlab-ci-yml-configuration" tabindex="-1"><a class="header-anchor" href="#gitlab-ci-yml-configuration" aria-hidden="true">#</a> <code>gitlab-ci.yml</code> Configuration</h4><p>The <code>gitlab-ci.yml</code> is a configuration file at the root of your repository that defines the CI/CD pipeline, specifying jobs, stages, scripts, and configurations for the CI/CD process.</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># This is an example GitLab CI/CD configuration file</span>

<span class="token comment"># Define the stages in the pipeline</span>
<span class="token key atrule">stages</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> build
  <span class="token punctuation">-</span> test
  <span class="token punctuation">-</span> deploy

<span class="token comment"># Define variables for reuse across jobs</span>
<span class="token key atrule">variables</span><span class="token punctuation">:</span>
  <span class="token key atrule">ENVIRONMENT</span><span class="token punctuation">:</span> <span class="token string">&quot;production&quot;</span>
  <span class="token key atrule">APP_NAME</span><span class="token punctuation">:</span> <span class="token string">&quot;my-app&quot;</span>

<span class="token comment"># Jobs definition</span>
<span class="token key atrule">build_job</span><span class="token punctuation">:</span>
  <span class="token key atrule">stage</span><span class="token punctuation">:</span> build
  <span class="token key atrule">script</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> echo &quot;Building the application<span class="token punctuation">...</span>&quot;

<span class="token key atrule">test_job</span><span class="token punctuation">:</span>
  <span class="token key atrule">stage</span><span class="token punctuation">:</span> test
  <span class="token key atrule">script</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> echo &quot;Running tests<span class="token punctuation">...</span>&quot;
  <span class="token key atrule">only</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> master  <span class="token comment"># Run this job only on the master branch</span>

<span class="token key atrule">deploy_job</span><span class="token punctuation">:</span>
  <span class="token key atrule">stage</span><span class="token punctuation">:</span> deploy
  <span class="token key atrule">script</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> echo &quot;Deploying to $ENVIRONMENT<span class="token punctuation">...</span>&quot;
  <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> $ENVIRONMENT
    <span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//example.com/my<span class="token punctuation">-</span>app
  <span class="token key atrule">only</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> master  <span class="token comment"># Run this job only on the master branch</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>stages</code>: Defines the stages in the pipeline: build, test, deploy.</li><li><code>variables</code>: Declares variables for reuse across jobs (<code>ENVIRONMENT</code>, <code>APP_NAME</code>).</li><li><code>build_job</code>, <code>test_job</code>, <code>deploy_job</code>: Jobs with their respective stages and scripts to execute.</li><li><code>only</code>: Specifies that certain jobs (<code>test_job</code>, <code>deploy_job</code>) should run only on the <code>master</code> branch.</li><li><code>environment</code>: Defines deployment-related information like the environment name and URL for the <code>deploy_job</code>.</li></ul><h4 id="runner-architecture" tabindex="-1"><a class="header-anchor" href="#runner-architecture" aria-hidden="true">#</a> Runner Architecture</h4><p><img src="/learning-2024-devops/assets/runners-39887259.png" alt="cicd"></p><ul><li><p><strong>GitLab Runner:</strong> independant processing power that executes CI/CD jobs defined in the <code>gitlab-ci.yml</code>. It can be installed on various platforms and supports different executor types like Shell, Docker, Kubernetes, etc.</p></li><li><p><strong>Executor Types:</strong> Determines how jobs are executed. For instance, Docker executor runs jobs inside Docker containers for isolated and reproducible environments.</p></li></ul><h3 id="ci-cd-for-developers" tabindex="-1"><a class="header-anchor" href="#ci-cd-for-developers" aria-hidden="true">#</a> CI/CD for Developers</h3><p>CI/CD for developers encompasses several key stages:</p><h4 id="build" tabindex="-1"><a class="header-anchor" href="#build" aria-hidden="true">#</a> Build</h4><p>The build stage involves compiling code, running automated builds, and generating artifacts or executable files from the source code.</p><h4 id="measure" tabindex="-1"><a class="header-anchor" href="#measure" aria-hidden="true">#</a> Measure</h4><p>Metrics and analytics are collected during the CI/CD pipeline to measure the performance and quality of the software being developed.</p><h4 id="document" tabindex="-1"><a class="header-anchor" href="#document" aria-hidden="true">#</a> Document</h4><p>Generate automatically the code documentation as your developper kit for newcomers , as SDK documentation for your client...</p><h4 id="test" tabindex="-1"><a class="header-anchor" href="#test" aria-hidden="true">#</a> Test</h4><p>Automated testing ensures that changes made to the codebase don&#39;t introduce bugs or issues.</p><h4 id="secure" tabindex="-1"><a class="header-anchor" href="#secure" aria-hidden="true">#</a> Secure</h4><p>Unit test your app, make fuctionnal testing, Security testing helps identify and address vulnerabilities in the code.</p><h4 id="deploy" tabindex="-1"><a class="header-anchor" href="#deploy" aria-hidden="true">#</a> Deploy</h4><p>The deployment phase involves automating the process of releasing applications into production or staging environments.</p><h2 id="exercises" tabindex="-1"><a class="header-anchor" href="#exercises" aria-hidden="true">#</a> Exercises</h2><h3 id="ðŸ§ª-exercice-1-build-your-ci-cd-server-with-docker" tabindex="-1"><a class="header-anchor" href="#ðŸ§ª-exercice-1-build-your-ci-cd-server-with-docker" aria-hidden="true">#</a> ðŸ§ª Exercice 1 : Build your CI/CD server with docker</h3><p>Create your gitlab onPremise service. Because gitlab is fully dockerized you are able to create a docker-compose.yml that create your platform locally.</p><ul><li>Create the docker-compose.yml and start your server <ul><li><a href="https://docs.gitlab.com/ee/install/docker.html#install-gitlab-using-docker-compose" target="_blank" rel="noopener noreferrer">https://docs.gitlab.com/ee/install/docker.html#install-gitlab-using-docker-compose<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>Create a project on the local platform and push some code of your choice</li></ul><details class="custom-container details"><summary>solution</summary><p>*docker-compose.yml</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token important">*gitlab-ci.yml*</span>
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitlab-server</span><span class="token punctuation">:</span>
   <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">&#39;gitlab/gitlab-ce:latest&#39;</span>
   <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">&#39;localhost&#39;</span>
   <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token string">&#39;80:80&#39;</span>
    <span class="token punctuation">-</span> <span class="token string">&#39;22:22&#39;</span>
    <span class="token punctuation">-</span> <span class="token string">&#39;443:4443&#39;</span>
   <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token key atrule">GITLAB_OMNIBUS_CONFIG</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
      external_url &#39;http://docker.for.win.localhost&#39;</span>
   <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
   <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token string">&#39;gitlab-data:/var/opt/gitlab&#39;</span>
    <span class="token punctuation">-</span> <span class="token string">&#39;C:\gitlab-data:/etc/gitlab&#39;</span>
    <span class="token punctuation">-</span> <span class="token string">&#39;gitlab-logs:/var/log/gitlab&#39;</span>
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitlab-data</span><span class="token punctuation">:</span>  
  <span class="token key atrule">gitlab-logs</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><div class="custom-container tip"><p class="custom-container-title">Admin root password</p><p>After the service started you can retrieve the initial root password by going to <code>/etc/gitlab/initial_root_password</code> on the gitlab server.</p></div><h3 id="ðŸ§ª-exercice-2-register-your-laptop-pc-as-a-docker-runner-to-build-your-pipelines-onpremise" tabindex="-1"><a class="header-anchor" href="#ðŸ§ª-exercice-2-register-your-laptop-pc-as-a-docker-runner-to-build-your-pipelines-onpremise" aria-hidden="true">#</a> ðŸ§ª Exercice 2 : Register your laptop PC as a <code>docker</code> runner to build your pipelines onPremise</h3><p>Add a runner that can be the same computer - <a href="https://docs.gitlab.com/runner/install/" target="_blank" rel="noopener noreferrer">https://docs.gitlab.com/runner/install/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - <a href="https://docs.gitlab.com/ee/tutorials/create_register_first_runner/index.html" target="_blank" rel="noopener noreferrer">https://docs.gitlab.com/ee/tutorials/create_register_first_runner/index.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Configure your pipepline (<code>gitlab-ci.yml</code>) with a single stage with an simple echo as script and test that the runner is used.</p><details class="custom-container details"><summary>solution</summary><p><em>add to the previous docker-compose.yml</em></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>  <span class="token key atrule">runner</span><span class="token punctuation">:</span>
   <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">&#39;gitlab/gitlab-runner:latest&#39;</span>
   <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">&#39;localhost&#39;</span>
   <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> DOCKER_HOST=tcp<span class="token punctuation">:</span>//docker.for.win.localhost<span class="token punctuation">:</span><span class="token number">2375</span>
   <span class="token key atrule">volumes</span><span class="token punctuation">:</span>    
    <span class="token punctuation">-</span> C<span class="token punctuation">:</span>\gitlab<span class="token punctuation">-</span>runner<span class="token punctuation">-</span>data\config<span class="token punctuation">:</span>/etc/gitlab<span class="token punctuation">-</span>runner
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="ðŸ§ª-exercise-3-a-full-pipeline-for-a-project-of-your-choice-on-a-saas-ci-cd-platform" tabindex="-1"><a class="header-anchor" href="#ðŸ§ª-exercise-3-a-full-pipeline-for-a-project-of-your-choice-on-a-saas-ci-cd-platform" aria-hidden="true">#</a> ðŸ§ª Exercise 3 - A full pipeline for a project of your choice on a SaaS CI/CD platform</h3><ul><li>Please select a project of your choice (JEE, node, python, android...)</li><li>Push the code to gitlab.com or github.com</li><li>Write a complete pipeline with CI/CD stage and jobs by searching for the right tooling on docker HUB</li><li>fill up your gitlab-ci.yml or github actions to have the 6 CI/CD steps automated ( Build, measure, document... cf. the course)</li></ul><details class="custom-container details"><summary>solution</summary><p><em>A solution for a simple JAVA project</em><a href="https://gitlab.com/brah/devops-sample-java" target="_blank" rel="noopener noreferrer">https://gitlab.com/brah/devops-sample-java<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></details><h2 id="ðŸ“–-further-reading" tabindex="-1"><a class="header-anchor" href="#ðŸ“–-further-reading" aria-hidden="true">#</a> ðŸ“– Further reading</h2></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: brah.gharbi@gmail.com">Ibrahim Gharbi</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: ibrahim.gharbi@worldline.com">A187839</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/learning-2024-devops/container/" class="" aria-label="Containerization"><!--[--><!--]--> Containerization <!--[--><!--]--></a></span><span class="next"><a href="/learning-2024-devops/orchestration/" class="" aria-label="Orchestration"><!--[--><!--]--> Orchestration <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/learning-2024-devops/assets/app-05a7cf3f.js" defer></script>
  </body>
</html>
